(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{176:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),a("ol",{attrs:{start:"2"}},[a("li",[t._v("用QueryListPage组件的"),a("code",[t._v("exportCsv()")]),t._v("方法导出，参考"),a("router-link",{attrs:{to:"./QueryListPage.html#exportcsv-导出查询数据"}},[t._v("exportCsv()")])],1)]),t._v(" "),t._m(11),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"全局约定"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#全局约定","aria-hidden":"true"}},[this._v("#")]),this._v(" 全局约定")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_1-默认新增成功、编辑成功后返回查询列表"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-默认新增成功、编辑成功后返回查询列表","aria-hidden":"true"}},[this._v("#")]),this._v(" 1. 默认新增成功、编辑成功后返回查询列表")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// 新增返回")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("$load")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'listPageName'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 修改,详情返回")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$router"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("back")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_2-查询时所有字段全都提交，不管是否为空"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-查询时所有字段全都提交，不管是否为空","aria-hidden":"true"}},[this._v("#")]),this._v(" 2. 查询时所有字段全都提交，不管是否为空")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_3-同一模块内页面跳转使用this-load-pagename-params-，参考this-load"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-同一模块内页面跳转使用this-load-pagename-params-，参考this-load","aria-hidden":"true"}},[this._v("#")]),this._v(" 3. 同一模块内页面跳转使用"),s("code",[this._v("this.$load(pageName[, params])")]),this._v("，参考"),s("a",{attrs:{href:"/GlobalInstanceProps?id=load-pagename-params-"}},[this._v("this.$load")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_4-调用登录用户信息使用this-loginuser"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-调用登录用户信息使用this-loginuser","aria-hidden":"true"}},[this._v("#")]),this._v(" 4. 调用登录用户信息使用"),s("code",[this._v("this.$loginUser")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_5-列表操作列统一用框架封装的方法-this-getlistoperationbtns-h-params-btns-例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-列表操作列统一用框架封装的方法-this-getlistoperationbtns-h-params-btns-例","aria-hidden":"true"}},[this._v("#")]),this._v(" 5. 列表操作列统一用框架封装的方法 "),s("code",[this._v("this.$getListOperationBtns(h, params, [btns])")]),this._v(", 例:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  title"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'操作'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  key"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'action'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  align"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'center'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  render"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("h"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" params"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("$getListOperationBtns")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("h"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" params"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("label"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'通过'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" handler"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("passHandler"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("label"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'不通过'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" type"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'error'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" handler"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("refuseHandler"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  width"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("150")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_6-导出cvs文件-有两种方式："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-导出cvs文件-有两种方式：","aria-hidden":"true"}},[this._v("#")]),this._v(" 6. 导出cvs文件, 有两种方式：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",[s("li",[this._v("用"),s("code",[this._v("this.$exportCSV(filename, json2csvOpts)")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("self"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("$exportCSV")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'要到出的文件名'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    data"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" data"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    fields"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" fields"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    fieldNames"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" fieldNames"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    quotes"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$refs"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v("'illegalQueryListPage'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("exportCsv")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  chunkSize："),a("span",{attrs:{class:"token number"}},[t._v("1000")]),t._v("，"),a("span",{attrs:{class:"token comment"}},[t._v("//分批导出，每 1000 条记录发一次请求，之后会自动合并成一个文件")]),t._v("\n  excelStrFields"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v("'orderNo'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'phone'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 订单号和手机号要在excel里是字符串格式")]),t._v("\n  dateStrFields"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v("'createTime'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'payTime'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 创建时间和支付时间是毫秒数，导出为YYYY-MM-DD HH:mm:ss")]),t._v("\n  sysCodeConf"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("// 支付方式字段payTool和状态字段status导出时要将value转为label")]),t._v("\n    payTool"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'PayTools'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    status"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'IllegalStatus'")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  callback"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" item "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("// 备注字段是一个数组，每条记录的第０个备注对象里有个remark字段，将其导出")]),t._v("\n    item"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("remarks "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" item"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("remarks"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("&&")]),t._v(" item"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("remarks"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("remark\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_7-使用工具库qs时，应使用全局变量this-qs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-使用工具库qs时，应使用全局变量this-qs","aria-hidden":"true"}},[this._v("#")]),this._v(" 7. 使用工具库"),s("code",[this._v("qs")]),this._v("时，应使用全局变量"),s("code",[this._v("this.$qs")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_8-图片预览组件统一使用-album-list-options-height-album"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-图片预览组件统一使用-album-list-options-height-album","aria-hidden":"true"}},[this._v("#")]),this._v(" 8. 图片预览组件统一使用"),s("code",[this._v('<album :list="" :options="" height=""></album>')])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("参数：\n"),a("ul",[a("li",[a("code",[t._v("{Array<string>} list")]),t._v(": 图片的url数组")]),t._v(" "),a("li",[a("code",[t._v("{Object} options")]),t._v(": "),a("code",[t._v("v-viewer")]),t._v("的配置属性（可选）")]),t._v(" "),a("li",[a("code",[t._v("{string} height")]),t._v(": 相册组件的高度（可选）")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_9-路由全局拦截时请求自动添加-header-x-csrf-token"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_9-路由全局拦截时请求自动添加-header-x-csrf-token","aria-hidden":"true"}},[this._v("#")]),this._v(" 9. 路由全局拦截时请求自动添加 "),s("code",[this._v("header['x-csrf-token']")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_10-路由全局拦截时请求自动添加参数operator，值为this-loginuser-name"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_10-路由全局拦截时请求自动添加参数operator，值为this-loginuser-name","aria-hidden":"true"}},[this._v("#")]),this._v(" 10. 路由全局拦截时请求自动添加参数"),s("code",[this._v("operator")]),this._v("，值为"),s("code",[this._v("this.$loginUser.name")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_11-列表宽度必须为数字，而且必须有使用minwidth的一列，防止列表撑不满页面"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_11-列表宽度必须为数字，而且必须有使用minwidth的一列，防止列表撑不满页面","aria-hidden":"true"}},[this._v("#")]),this._v(" 11. 列表宽度必须为数字，而且必须有使用"),s("code",[this._v("minWidth")]),this._v("的一列，防止列表撑不满页面")])}],!1,null,null,null);s.default=e.exports}}]);