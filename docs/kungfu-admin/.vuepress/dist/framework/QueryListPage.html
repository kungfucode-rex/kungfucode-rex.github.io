<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>查询列表页面 QueryListPage | 小二后台文档</title>
    <meta name="description" content="小二租车后台相关文档整理">
    
    
    <link rel="preload" href="/assets/css/0.styles.2fff8c1e.css" as="style"><link rel="preload" href="/assets/js/app.c3744aec.js" as="script"><link rel="preload" href="/assets/js/21.cd234c79.js" as="script"><link rel="prefetch" href="/assets/js/12.88664107.js"><link rel="prefetch" href="/assets/js/2.cda51ec0.js"><link rel="prefetch" href="/assets/js/3.af90b4ef.js"><link rel="prefetch" href="/assets/js/4.16d908f6.js"><link rel="prefetch" href="/assets/js/5.ce2ca426.js"><link rel="prefetch" href="/assets/js/6.d10e4f86.js"><link rel="prefetch" href="/assets/js/7.bed7386d.js"><link rel="prefetch" href="/assets/js/8.86359e27.js"><link rel="prefetch" href="/assets/js/9.b3a822d9.js"><link rel="prefetch" href="/assets/js/10.c7523b84.js"><link rel="prefetch" href="/assets/js/11.edfc6fd8.js"><link rel="prefetch" href="/assets/js/13.d9955fe2.js"><link rel="prefetch" href="/assets/js/14.a36ed5c8.js"><link rel="prefetch" href="/assets/js/15.a6221973.js"><link rel="prefetch" href="/assets/js/16.b90b5373.js"><link rel="prefetch" href="/assets/js/17.c48a4604.js"><link rel="prefetch" href="/assets/js/18.48514253.js"><link rel="prefetch" href="/assets/js/19.fbdc757e.js"><link rel="prefetch" href="/assets/js/20.94a6ea97.js"><link rel="prefetch" href="/assets/js/22.3c53a600.js"><link rel="prefetch" href="/assets/js/23.71c2398d.js"><link rel="prefetch" href="/assets/js/24.585ab507.js"><link rel="prefetch" href="/assets/js/25.516afe77.js"><link rel="prefetch" href="/assets/js/26.2e52134a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2fff8c1e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">小二后台文档</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/framework/" class="nav-link router-link-active">基础框架</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">插件</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/plugins/AsyncValidator.html" class="nav-link">Async-validator</a></li><li class="dropdown-item"><!----> <a href="/plugins/Axios.html" class="nav-link">Axios</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">业务后台</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/business/PanGu.html" class="nav-link">盘古后台</a></li><li class="dropdown-item"><!----> <a href="/business/BG.html" class="nav-link">BG后台</a></li><li class="dropdown-item"><!----> <a href="/business/Waibao.html" class="nav-link">外包后台</a></li><li class="dropdown-item"><!----> <a href="/business/NewEnergy.html" class="nav-link">新能源后台</a></li><li class="dropdown-item"><!----> <a href="/business/Ranyou.html" class="nav-link">燃油后台</a></li><li class="dropdown-item"><!----> <a href="/business/Weixin.html" class="nav-link">微信后台</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/framework/" class="nav-link router-link-active">基础框架</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">插件</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/plugins/AsyncValidator.html" class="nav-link">Async-validator</a></li><li class="dropdown-item"><!----> <a href="/plugins/Axios.html" class="nav-link">Axios</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">业务后台</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/business/PanGu.html" class="nav-link">盘古后台</a></li><li class="dropdown-item"><!----> <a href="/business/BG.html" class="nav-link">BG后台</a></li><li class="dropdown-item"><!----> <a href="/business/Waibao.html" class="nav-link">外包后台</a></li><li class="dropdown-item"><!----> <a href="/business/NewEnergy.html" class="nav-link">新能源后台</a></li><li class="dropdown-item"><!----> <a href="/business/Ranyou.html" class="nav-link">燃油后台</a></li><li class="dropdown-item"><!----> <a href="/business/Weixin.html" class="nav-link">微信后台</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/framework/" class="sidebar-link">小二租车新后台前端框架</a></li><li><a href="/framework/GlobalAppoint.html" class="sidebar-link">全局约定</a></li><li><a href="/framework/GlobalConfig.html" class="sidebar-link">全局配置</a></li><li><a href="/framework/GlobalInstanceProps.html" class="sidebar-link">全局实例属性和方法</a></li><li><a href="/framework/GlobalUtils.html" class="sidebar-link">全局工具</a></li><li><a href="/framework/VersionAndOffline.html" class="sidebar-link">版本更新与离线访问</a></li><li><a href="/framework/MenuRouter.html" class="sidebar-link">菜单路由</a></li><li><a href="/framework/QueryListPage.html" class="active sidebar-link">查询列表页面 QueryListPage</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/framework/QueryListPage.html#hidequeryitems-隐藏查询条件" class="sidebar-link">hideQueryItems(隐藏查询条件)</a></li><li class="sidebar-sub-header"><a href="/framework/QueryListPage.html#showqueryitems-显示查询条件" class="sidebar-link">showQueryItems(显示查询条件)</a></li><li class="sidebar-sub-header"><a href="/framework/QueryListPage.html#getlastpostdata-最近一次查询请求" class="sidebar-link">getLastPostData(最近一次查询请求)</a></li><li class="sidebar-sub-header"><a href="/framework/QueryListPage.html#exportcsv-导出查询数据" class="sidebar-link">exportCsv(导出查询数据)</a></li><li class="sidebar-sub-header"><a href="/framework/QueryListPage.html#查询表单配置-queryform" class="sidebar-link">查询表单配置 queryForm</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/framework/QueryListPage.html#queryobject" class="sidebar-link">queryobject</a></li><li class="sidebar-sub-header"><a href="/framework/QueryListPage.html#tabfilter" class="sidebar-link">tabFilter</a></li><li class="sidebar-sub-header"><a href="/framework/QueryListPage.html#beforequery" class="sidebar-link">beforeQuery</a></li><li class="sidebar-sub-header"><a href="/framework/QueryListPage.html#beforechangequerytab" class="sidebar-link">beforeChangeQueryTab</a></li><li class="sidebar-sub-header"><a href="/framework/QueryListPage.html#show" class="sidebar-link">show</a></li></ul></li><li class="sidebar-sub-header"><a href="/framework/QueryListPage.html#查询列表配置-querylist" class="sidebar-link">查询列表配置 queryList</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/framework/QueryListPage.html#title" class="sidebar-link">title</a></li><li class="sidebar-sub-header"><a href="/framework/QueryListPage.html#actions" class="sidebar-link">actions</a></li><li class="sidebar-sub-header"><a href="/framework/QueryListPage.html#columns" class="sidebar-link">columns</a></li><li class="sidebar-sub-header"><a href="/framework/QueryListPage.html#data" class="sidebar-link">data</a></li><li class="sidebar-sub-header"><a href="/framework/QueryListPage.html#total" class="sidebar-link">total</a></li><li class="sidebar-sub-header"><a href="/framework/QueryListPage.html#height" class="sidebar-link">height</a></li><li class="sidebar-sub-header"><a href="/framework/QueryListPage.html#url" class="sidebar-link">url</a></li><li class="sidebar-sub-header"><a href="/framework/QueryListPage.html#exporturl" class="sidebar-link">exportUrl</a></li><li class="sidebar-sub-header"><a href="/framework/QueryListPage.html#actiontype" class="sidebar-link">actionType</a></li><li class="sidebar-sub-header"><a href="/framework/QueryListPage.html#afterquery" class="sidebar-link">afterQuery</a></li><li class="sidebar-sub-header"><a href="/framework/QueryListPage.html#selectable" class="sidebar-link">selectable</a></li><li class="sidebar-sub-header"><a href="/framework/QueryListPage.html#selection" class="sidebar-link">selection</a></li><li class="sidebar-sub-header"><a href="/framework/QueryListPage.html#onselect" class="sidebar-link">onSelect</a></li><li class="sidebar-sub-header"><a href="/framework/QueryListPage.html#onselectall" class="sidebar-link">onSelectAll</a></li><li class="sidebar-sub-header"><a href="/framework/QueryListPage.html#onselectchange" class="sidebar-link">onSelectChange</a></li><li class="sidebar-sub-header"><a href="/framework/QueryListPage.html#reload" class="sidebar-link">reload</a></li></ul></li><li class="sidebar-sub-header"><a href="/framework/QueryListPage.html#批量删除示例" class="sidebar-link">批量删除示例</a></li><li class="sidebar-sub-header"><a href="/framework/QueryListPage.html#tab列表页面示例" class="sidebar-link">Tab列表页面示例</a></li></ul></li><li><a href="/framework/FormPage.html" class="sidebar-link">表单提交页面 FormPage</a></li><li><a href="/framework/FormWidgets.html" class="sidebar-link">表单组件</a></li><li><a href="/framework/OtherWidgets.html" class="sidebar-link">其它组件</a></li><li><a href="/framework/ChangeLogs.html" class="sidebar-link">ChageLogs</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="查询列表页面-querylistpage"><a href="#查询列表页面-querylistpage" aria-hidden="true" class="header-anchor">#</a> 查询列表页面 QueryListPage</h1> <p>我们对查询页面进行了封装，所有的查询列表页面都分为三部分，从上往下依次为查询表单，列表展示，分页组件，如下图：<br> <img src="/images/QueryListPage.png" alt="QueryListPage"></p> <p>模板中使用查询列表页面的组件：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>QueryListPage</span> <span class="token attr-name">:queryForm</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>queryForm<span class="token punctuation">&quot;</span></span>
               <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>queryListPage<span class="token punctuation">&quot;</span></span>
               <span class="token attr-name">:pager-config</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>pagerConfig<span class="token punctuation">&quot;</span></span>
               <span class="token attr-name">:queryList</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>queryList<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>QueryListPage</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>此组件有4个属性：<br></p> <ul><li>ref:  <code>必须</code>必须给此组件设置ref,框架会根据这个属性给此组件添加内置查询方法</li> <li>pagerConfig: <code>可选</code>此属性可覆盖全局的分页配置</li> <li>queryFrom: <code>必须</code><a href="/framework/QueryListPage.html#查询表单配置-queryform">查询表单的配置对象</a></li> <li>queryList: <code>必须</code><a href="/framework/QueryListPage.html#查询列表配置-querylist">查询列表的配置对象</a></li></ul> <p>页面示例代码如下：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>QueryListPage</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>queryListPage<span class="token punctuation">&quot;</span></span>
                 <span class="token attr-name">:pager-config</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>pagerConfig<span class="token punctuation">&quot;</span></span>
                 <span class="token attr-name">:query-form</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>queryForm<span class="token punctuation">&quot;</span></span>
                 <span class="token attr-name">:query-list</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>queryList<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>QueryListPage</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        queryListPageRef<span class="token punctuation">:</span> <span class="token string">'queryListPage'</span><span class="token punctuation">,</span>
        pagerConfig<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          pageSize<span class="token punctuation">:</span> <span class="token string">'backPageSize'</span><span class="token punctuation">,</span>
          pageIndex<span class="token punctuation">:</span> <span class="token string">'backPageIndex'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        queryForm<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          queryObject<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            account<span class="token punctuation">:</span> <span class="token punctuation">{</span>
              type<span class="token punctuation">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span>
              label<span class="token punctuation">:</span> <span class="token string">'用户账号'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            mobile<span class="token punctuation">:</span> <span class="token punctuation">{</span>
              type<span class="token punctuation">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span>
              label<span class="token punctuation">:</span> <span class="token string">'手机号'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            last_four_number<span class="token punctuation">:</span> <span class="token punctuation">{</span>
              type<span class="token punctuation">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span>
              label<span class="token punctuation">:</span> <span class="token string">'信用卡后四位'</span><span class="token punctuation">,</span>
              labelWidth<span class="token punctuation">:</span> <span class="token number">100</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            birth<span class="token punctuation">:</span> <span class="token punctuation">{</span>
              type<span class="token punctuation">:</span> <span class="token string">'date'</span><span class="token punctuation">,</span>
              label<span class="token punctuation">:</span> <span class="token string">'出生日期'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            validDate<span class="token punctuation">:</span> <span class="token punctuation">{</span>
              type<span class="token punctuation">:</span> <span class="token string">'daterange'</span><span class="token punctuation">,</span>
              fieldsName<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'validStart'</span><span class="token punctuation">,</span> <span class="token string">'validEnd'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              label<span class="token punctuation">:</span> <span class="token string">'有效期'</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          beforeQuery<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>beforeQuery
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        queryList<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          title<span class="token punctuation">:</span> <span class="token string">'信用卡账户列表'</span><span class="token punctuation">,</span>
          url<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
          actionType<span class="token punctuation">:</span> <span class="token string">'post'</span><span class="token punctuation">,</span>
          actions<span class="token punctuation">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>text<span class="token punctuation">:</span> <span class="token string">'新增'</span><span class="token punctuation">,</span> handler<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>add<span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>text<span class="token punctuation">:</span> <span class="token string">'授权'</span><span class="token punctuation">,</span> handler<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>grant<span class="token punctuation">}</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
          columns<span class="token punctuation">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>title<span class="token punctuation">:</span> <span class="token string">'会员账号'</span><span class="token punctuation">,</span> key<span class="token punctuation">:</span> <span class="token string">'account'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token operator">...</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
          afterQuery<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>afterQuery
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// 查询方法</span>
      <span class="token function">queryHandler</span> <span class="token punctuation">(</span>params<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">queryData</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> params<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// 查询前，自定义处理查询条件，返回查询需要提交的数据</span>
      <span class="token function">beforeQuery</span> <span class="token punctuation">(</span>params<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 例，在查询条件中自定义加入searchTime</span>
        params<span class="token punctuation">.</span>searchTime <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$moment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'YYYY-MM-DD HH:mm:ss'</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> params
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// 查询后，填充数据到表格里之前，可以处理记录数据,需要返回一个对象</span>
      <span class="token comment">// 对象中有data[],用来填充表格，total用来告诉分页组件如何展示</span>
      <span class="token function">afterQuery</span> <span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
          data<span class="token punctuation">:</span> response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>credits<span class="token punctuation">,</span>
          total<span class="token punctuation">:</span> response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>totalRecords
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="warning custom-block"><p class="custom-block-title">注意</p> <p>其中<code>queryListPageRef</code>是需要添加内置查询方法的组件ref</p></div> <p>页面工作流程图如下：
<img src="/images/QueryListPageFlow.png" alt="QueryListPageFlow"></p> <h2 id="hidequeryitems-隐藏查询条件"><a href="#hidequeryitems-隐藏查询条件" aria-hidden="true" class="header-anchor">#</a> hideQueryItems(隐藏查询条件)</h2> <p>隐藏查询条件控件</p> <ul><li>类型：<code>Function</code></li> <li>参数：<code>{Array&lt;string&gt;} items</code> 需要隐藏查询条件控件名称的数组</li> <li>示例: 隐藏用户名和性别两个查询条件</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">[</span><span class="token string">'queryListPage'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">hideQueryItems</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'userName'</span><span class="token punctuation">,</span> <span class="token string">'sex'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p class="warning">在查询时隐藏的查询条件是不会传递到后台的</p> <h2 id="showqueryitems-显示查询条件"><a href="#showqueryitems-显示查询条件" aria-hidden="true" class="header-anchor">#</a> showQueryItems(显示查询条件)</h2> <p>显示查询条件控件</p> <ul><li>类型：<code>Function</code></li> <li>参数：<code>{Array&lt;string&gt;} items</code> 需要显示查询条件控件名称的数组</li> <li>示例: 显示用户名和性别两个查询条件</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">[</span><span class="token string">'queryListPage'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">showQueryItems</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'userName'</span><span class="token punctuation">,</span> <span class="token string">'sex'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="getlastpostdata-最近一次查询请求"><a href="#getlastpostdata-最近一次查询请求" aria-hidden="true" class="header-anchor">#</a> getLastPostData(最近一次查询请求)</h2> <p>返回最近一次查询请求提交的数据</p> <ul><li>类型：<code>Function</code></li> <li>返回：<code>{object} postData</code> 最近一次查询请求提交的数据</li> <li>示例:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">[</span><span class="token string">'queryListPage'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getLastPostData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="exportcsv-导出查询数据"><a href="#exportcsv-导出查询数据" aria-hidden="true" class="header-anchor">#</a> exportCsv(导出查询数据)</h2> <p>导出查询数据</p> <ul><li>类型：<code>Function</code></li> <li>返回：<code>null</code></li> <li>参数：<code>{object} opts</code> 导出配置
<ul><li><code>{int} [chunkSize]</code> 分批导出时，每次请求的数据量</li> <li><code>{string} [filename]</code> 导出文件名，默认为表格名称</li> <li><code>{string} [dataPath]</code> 导出请求返回数据中，要导出的数据在response.data中的具体位置</li> <li><code>{Array&lt;string&gt;} [excelStrFields]</code> 需要在excel中已文本形式显示的字段数组</li> <li><code>{Array&lt;string&gt;} [dateStrFields]</code> 需要将毫秒时间戳转为YYYY-MM-DD的字段数组</li> <li><code>{object} [sysCodeConf]</code> 需要状态码转换的键值对象</li> <li><code>{Function} [callback]</code> 如果上述的配置仍不能满足需求，则可以自定义方法处理每一条记录</li></ul></li> <li>示例:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">[</span><span class="token string">'illegalQueryListPage'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">exportCsv</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  chunkSize：<span class="token number">1000</span>，<span class="token comment">//分批导出，每 1000 条记录发一次请求，之后会自动合并成一个文件</span>
  excelStrFields<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'orderNo'</span><span class="token punctuation">,</span> <span class="token string">'phone'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 订单号和手机号要在excel里是字符串格式</span>
  dateStrFields<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'createTime'</span><span class="token punctuation">,</span> <span class="token string">'payTime'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 创建时间和支付时间是毫秒数，导出为YYYY-MM-DD HH:mm:ss</span>
  sysCodeConf<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 支付方式字段payTool和状态字段status导出时要将value转为label</span>
    payTool<span class="token punctuation">:</span> <span class="token string">'PayTools'</span><span class="token punctuation">,</span>
    status<span class="token punctuation">:</span> <span class="token string">'IllegalStatus'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  callback<span class="token punctuation">:</span> item <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 备注字段是一个数组，每条记录的第０个备注对象里有个remark字段，将其导出</span>
    item<span class="token punctuation">.</span>remarks <span class="token operator">=</span> item<span class="token punctuation">.</span>remarks<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> item<span class="token punctuation">.</span>remarks<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>remark
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="查询表单配置-queryform"><a href="#查询表单配置-queryform" aria-hidden="true" class="header-anchor">#</a> 查询表单配置 queryForm</h2> <p>查询表单(queryForm)中定义了表单的属性和样式，其中定义了以下属性：</p> <h3 id="queryobject"><a href="#queryobject" aria-hidden="true" class="header-anchor">#</a> queryobject</h3> <p>查询对象</p> <ul><li>类型： <code>{[key:string]:object}</code></li> <li>示例：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>queryobject<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    account<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span>
      label<span class="token punctuation">:</span> <span class="token string">'用户账号'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    mobile<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span>
      label<span class="token punctuation">:</span> <span class="token string">'手机号'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    last_four_number<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span>
      label<span class="token punctuation">:</span> <span class="token string">'信用卡后四位'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    birth<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> <span class="token string">'date'</span><span class="token punctuation">,</span>
      label<span class="token punctuation">:</span> <span class="token string">'出生日期'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    validDate<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> <span class="token string">'daterange'</span><span class="token punctuation">,</span>
      fieldsName<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'validStart'</span><span class="token punctuation">,</span> <span class="token string">'validEnd'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      label<span class="token punctuation">:</span> <span class="token string">'有效期'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>详细：<br>
queryobject的内容为键值对，定义了每个查询条件，键为字段的name,值为该条件在查询表单中对应控件的属性，具体有：
<ul><li><code>{string} type</code>:控件的类型
<ul><li><code>text</code></li> <li><code>date</code></li> <li><code>time</code></li> <li><code>datetime</code></li> <li><code>daterange</code></li> <li><code>timerange</code></li> <li><code>datetimerange</code></li> <li><code>select</code></li></ul></li> <li><code>{string} label</code>:控件前显示的名称</li> <li><code>{Any} value</code>:默认值</li> <li><code>{Array&lt;string&gt;} fieldsName</code>: 范围控件的起始字段名称，值为两个字符串的数组</li> <li><code>{Array&lt;string&gt;} fieldsValue</code>:范围控件的起始字段的默认值，值为两个字符串的数组</li> <li><code>{object} config</code>:特殊组件的配置（如：select）
<ul><li><code>{string} url</code>: 从此地址拉取选项数据</li> <li><code>{object} responseConfig</code>: 拉取数据时如何解析响应数据</li> <li><code>{string} cascade</code>: 关联的级联下拉框名称</li> <li><code>{Array} data</code>: 选项数据</li></ul></li></ul></li></ul> <h3 id="tabfilter"><a href="#tabfilter" aria-hidden="true" class="header-anchor">#</a> tabFilter</h3> <p>表单标签过滤器, 用来快速筛选数据</p> <ul><li><code>{string} field</code> 过滤时往后台传递的参数名</li> <li><code>{string} value</code> 过滤时往后台传递的参数值</li> <li><code>{Array} items</code> 过滤项
<ul><li><code>{string} label</code> 过滤项的名称</li> <li><code>{string} value</code> 过滤项的值</li> <li><code>{object} file</code> 点击该tab需要加载的列表页面文件</li></ul></li> <li>示例:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> WaitRentList <span class="token keyword">from</span> <span class="token string">'./OnlineList'</span>
<span class="token keyword">import</span> OfflineList <span class="token keyword">from</span> <span class="token string">'./OfflineList'</span>
<span class="token keyword">import</span> WaitRentList <span class="token keyword">from</span> <span class="token string">'./WaitRentList'</span>
<span class="token keyword">import</span> RentedList <span class="token keyword">from</span> <span class="token string">'./RentedList'</span>
<span class="token operator">...</span>
tabFilter<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            field<span class="token punctuation">:</span> <span class="token string">'status'</span><span class="token punctuation">,</span>
            value<span class="token punctuation">:</span> <span class="token string">'on'</span><span class="token punctuation">,</span>
            items<span class="token punctuation">:</span> <span class="token punctuation">[</span>
              <span class="token punctuation">{</span>label<span class="token punctuation">:</span> <span class="token string">'已上架'</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token string">'on'</span><span class="token punctuation">,</span> file<span class="token punctuation">:</span> OnlineList<span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">{</span>label<span class="token punctuation">:</span> <span class="token string">'已下架'</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token string">'off'</span><span class="token punctuation">,</span> file<span class="token punctuation">:</span> OfflineList<span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">{</span>label<span class="token punctuation">:</span> <span class="token string">'待租出'</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token string">'wait'</span><span class="token punctuation">,</span> file<span class="token punctuation">:</span> WaitRentList<span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">{</span>label<span class="token punctuation">:</span> <span class="token string">'已租出'</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token string">'working'</span><span class="token punctuation">,</span> file<span class="token punctuation">:</span> RentedList<span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
</code></pre></div><img src="/images/tabFilter.png" alt="tabFilter"> <h3 id="beforequery"><a href="#beforequery" aria-hidden="true" class="header-anchor">#</a> beforeQuery</h3> <p>在开始查询前有一次机会可以对已经封装好的表单数据进行一次处理，如果不需要处理，<code>beforeQuery</code>属性可以不写。</p> <ul><li>类型： <code>Function</code></li> <li>参数： <code>{object} data</code> 自动处理后的表单数据对象</li> <li>返回值：<code>{object | false}</code> 经过自定义处理要交付到查询方法的数据对象, 如果返回false, 则终止此次查询</li></ul> <h3 id="beforechangequerytab"><a href="#beforechangequerytab" aria-hidden="true" class="header-anchor">#</a> beforeChangeQueryTab</h3> <p>从点击过滤器标签到发送查询请求这段时间内，我们会调用这个钩子函数，如最常用的功能：点击标签后要修改相应的查询表单控件等等。如果不需要处理，<code>beforeChangeQueryTab</code>属性可以不写。</p> <ul><li>类型： <code>Function</code></li> <li>参数： <code>{string} value</code> tab标签所对应的查询字段的值</li></ul> <h3 id="show"><a href="#show" aria-hidden="true" class="header-anchor">#</a> show</h3> <p>是否显示查询表单, 默认为显示</p> <ul><li>类型： <code>Bollean</code> 设置为<code>false</code>可隐藏查询表单</li></ul> <h2 id="查询列表配置-querylist"><a href="#查询列表配置-querylist" aria-hidden="true" class="header-anchor">#</a> 查询列表配置 queryList</h2> <h3 id="title"><a href="#title" aria-hidden="true" class="header-anchor">#</a> title</h3> <p>查询列表的标题</p> <ul><li>类型： <code>string</code></li></ul> <h3 id="actions"><a href="#actions" aria-hidden="true" class="header-anchor">#</a> actions</h3> <p>表格右上方的操作按钮</p> <ul><li>类型：<code>Array</code></li> <li>详细：每个按钮有两个属性
<ul><li><code>{string} text</code> 按钮上的文本</li> <li><code>{Function} handler</code> 按钮的处理事件</li></ul></li> <li>用法：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>actions<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>text<span class="token punctuation">:</span> <span class="token string">'新增'</span><span class="token punctuation">,</span> handler<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>add<span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>text<span class="token punctuation">:</span> <span class="token string">'授权'</span><span class="token punctuation">,</span> handler<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>grant<span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
</code></pre></div><h3 id="columns"><a href="#columns" aria-hidden="true" class="header-anchor">#</a> columns</h3> <p>表格列配置属性</p> <ul><li>类型：<code>Array</code></li> <li>详细：表格控件是基于iview封装的，columns配置请参考官方文档：<a href="https://www.iviewui.com/components/table" target="_blank" rel="noopener noreferrer">iview的表格文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>注:操作按钮一列的写法请参考<a href="/framework/GlobalAppoint.html">全局约定</a></li></ul> <h3 id="data"><a href="#data" aria-hidden="true" class="header-anchor">#</a> data</h3> <p>表格数据源</p> <ul><li>类型：<code>Array</code></li> <li>详细：data中存放的是本页的数据</li> <li>用法：一般我们在页面加载完毕，在生命周期的 created() 中会发请求去加载第一页的数据</li></ul> <h3 id="total"><a href="#total" aria-hidden="true" class="header-anchor">#</a> total</h3> <p>数据的总记录数</p> <ul><li>类型：<code>number</code></li> <li>用法：一般我们在查询数据之后需为此变量赋值</li></ul> <h3 id="height"><a href="#height" aria-hidden="true" class="header-anchor">#</a> height</h3> <p>表格的高度，如果不定义，表格会默认沾满页面剩余部分</p> <ul><li>类型：<code>Number</code></li></ul> <h3 id="url"><a href="#url" aria-hidden="true" class="header-anchor">#</a> url</h3> <p>获取数据的url</p> <ul><li>类型：<code>string</code></li></ul> <h3 id="exporturl"><a href="#exporturl" aria-hidden="true" class="header-anchor">#</a> exportUrl</h3> <p>导出数据的url</p> <ul><li>类型：<code>string</code></li></ul> <h3 id="actiontype"><a href="#actiontype" aria-hidden="true" class="header-anchor">#</a> actionType</h3> <p>请求类型, 默认是<code>get</code></p> <ul><li>类型：<code>string</code></li></ul> <h3 id="afterquery"><a href="#afterquery" aria-hidden="true" class="header-anchor">#</a> afterQuery</h3> <p>在结果查出来还没有填到表格里这段时间，我们可以对结果记录进行处理，比如：<strong>预先选中</strong>(设置记录的<code>_checked</code>属性)、<strong>禁止选择</strong>(设置记录的<code>_disabled</code>属性)等等，处理后返回一个有data和total属性的对象即可，如果response返回的结果集中数据变量是data，总数是total的也可以不指定此函数，框架会自动处理</p> <ul><li>类型： <code>Function</code></li> <li>参数：
<ul><li><code>response</code>[<code>object</code>] 服务端返回的response</li></ul></li> <li>返回值：
<ul><li><code>{object}</code> <ul><li><code>data</code>[<code>Array</code>]:用来填充表格</li> <li><code>total</code>[<code>Number</code>]:用来告诉分页组件如何展示</li></ul></li></ul></li> <li>示例：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">afterQuery</span> <span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      data<span class="token punctuation">:</span> response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>credits<span class="token punctuation">,</span>
      total<span class="token punctuation">:</span> response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>total
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre></div><h3 id="selectable"><a href="#selectable" aria-hidden="true" class="header-anchor">#</a> selectable</h3> <p>是否启用选择</p> <ul><li>类型：<code>Boolean</code></li></ul> <h3 id="selection"><a href="#selection" aria-hidden="true" class="header-anchor">#</a> selection</h3> <p>表格已选中的数组,如要获取表格已经选中的行数据，可直接使用<code>this.queryList.selection</code></p> <ul><li>类型：<code>Array</code></li></ul> <h3 id="onselect"><a href="#onselect" aria-hidden="true" class="header-anchor">#</a> onSelect</h3> <p>在启用选择前提下，当在表格中选中一行时触发此函数</p> <ul><li>类型： <code>Function</code></li> <li>参数：
<ul><li><code>selection</code> 表格所有已选中的数据</li> <li><code>{object} row</code> 当前选中行的数据</li></ul></li></ul> <h3 id="onselectall"><a href="#onselectall" aria-hidden="true" class="header-anchor">#</a> onSelectAll</h3> <p>在启用选择前提下，当在表格中全选时触发此函数</p> <ul><li>类型： <code>Function</code></li> <li>参数：
<ul><li><code>{Array} selection</code> 表格所有已选中的数据</li></ul></li></ul> <h3 id="onselectchange"><a href="#onselectchange" aria-hidden="true" class="header-anchor">#</a> onSelectChange</h3> <p>在启用选择前提下，当表格中选中部分有变化时触发此函数</p> <ul><li>类型： <code>Function</code></li> <li>参数：
<ul><li><code>{Array} selection</code> 表格所有已选中的数据</li></ul></li></ul> <h3 id="reload"><a href="#reload" aria-hidden="true" class="header-anchor">#</a> reload</h3> <p>刷新表格数据，如删除数据后重新加载表格数据内容</p> <ul><li>类型： <code>Function</code></li> <li>示例：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token keyword">this</span><span class="token punctuation">.</span>queryList<span class="token punctuation">.</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="批量删除示例"><a href="#批量删除示例" aria-hidden="true" class="header-anchor">#</a> 批量删除示例</h2> <ol><li>启用选择<code>selectable: true</code></li> <li>勾选需要批量处理的记录</li> <li>获取并删除已选中的记录请使用：<code>this.queryList.selection</code></li></ol> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>QueryListPage</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>queryListPage<span class="token punctuation">&quot;</span></span>
                   <span class="token attr-name">:query-form</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>queryForm<span class="token punctuation">&quot;</span></span>
                   <span class="token attr-name">:query-list</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>queryList<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>QueryListPage</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        queryListPageRef<span class="token punctuation">:</span> <span class="token string">'queryListPage'</span><span class="token punctuation">,</span>
        queryForm<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          queryObject<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            account<span class="token punctuation">:</span> <span class="token punctuation">{</span>
              type<span class="token punctuation">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span>
              label<span class="token punctuation">:</span> <span class="token string">'用户账号'</span><span class="token punctuation">,</span>
              value<span class="token punctuation">:</span> <span class="token string">'hello'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token operator">...</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        queryList<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          title<span class="token punctuation">:</span> <span class="token string">'信用卡账户列表'</span><span class="token punctuation">,</span>
          url<span class="token punctuation">:</span> <span class="token string">'...'</span><span class="token punctuation">,</span>
          selectable<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          actions<span class="token punctuation">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>text<span class="token punctuation">:</span> <span class="token string">'批量删除'</span><span class="token punctuation">,</span> handler<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>batchDel<span class="token punctuation">}</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
          columns<span class="token punctuation">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>title<span class="token punctuation">:</span> <span class="token string">'会员账号'</span><span class="token punctuation">,</span> key<span class="token punctuation">:</span> <span class="token string">'account'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>title<span class="token punctuation">:</span> <span class="token string">'姓名'</span><span class="token punctuation">,</span> key<span class="token punctuation">:</span> <span class="token string">'username'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token operator">...</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token function">batchDel</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'删除以下数据'</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>queryList<span class="token punctuation">.</span>selection<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><h2 id="tab列表页面示例"><a href="#tab列表页面示例" aria-hidden="true" class="header-anchor">#</a> Tab列表页面示例</h2> <ol><li>配置<code>tabFilter</code></li> <li>编写对应的tab页面<br>
List.vue</li></ol> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>QueryListPage</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>queryListPage<span class="token punctuation">&quot;</span></span>
                   <span class="token attr-name">:query-form</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>queryForm<span class="token punctuation">&quot;</span></span>
                   <span class="token attr-name">:query-list</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>queryList<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>QueryListPage</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token keyword">import</span> TabA <span class="token keyword">from</span> <span class="token string">'./TabA'</span>
  <span class="token keyword">import</span> TabB <span class="token keyword">from</span> <span class="token string">'./TabB'</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        queryListPageRef<span class="token punctuation">:</span> <span class="token string">'queryListPage'</span><span class="token punctuation">,</span>
        queryForm<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          queryObject<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token operator">...</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          tabFilter<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            field<span class="token punctuation">:</span> <span class="token string">'status'</span><span class="token punctuation">,</span>
            value<span class="token punctuation">:</span> <span class="token string">'on'</span><span class="token punctuation">,</span>
            items<span class="token punctuation">:</span> <span class="token punctuation">[</span>
              <span class="token punctuation">{</span>label<span class="token punctuation">:</span> <span class="token string">'A列表'</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token string">'on'</span><span class="token punctuation">,</span> file<span class="token punctuation">:</span> TabA<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">{</span>label<span class="token punctuation">:</span> <span class="token string">'B列表'</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token string">'off'</span><span class="token punctuation">,</span> file<span class="token punctuation">:</span> TabB<span class="token punctuation">)</span><span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        queryList<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          title<span class="token punctuation">:</span> <span class="token string">'信用卡账户列表'</span><span class="token punctuation">,</span>
          url<span class="token punctuation">:</span> <span class="token string">'...'</span><span class="token punctuation">,</span>
          selectable<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          actions<span class="token punctuation">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>text<span class="token punctuation">:</span> <span class="token string">'批量删除'</span><span class="token punctuation">,</span> handler<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>batchDel<span class="token punctuation">}</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
          columns<span class="token punctuation">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>title<span class="token punctuation">:</span> <span class="token string">'会员账号'</span><span class="token punctuation">,</span> key<span class="token punctuation">:</span> <span class="token string">'account'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>title<span class="token punctuation">:</span> <span class="token string">'姓名'</span><span class="token punctuation">,</span> key<span class="token punctuation">:</span> <span class="token string">'username'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token operator">...</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token function">batchDel</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'删除以下数据'</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>queryList<span class="token punctuation">.</span>selection<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><p>TabA.vue</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>query-list-wrapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>QueryList</span>
        <span class="token attr-name">:columns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>column<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">:queryList</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>queryList<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>QueryList</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    props<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      queryList<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        type<span class="token punctuation">:</span> Object<span class="token punctuation">,</span>
        require<span class="token punctuation">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        columns<span class="token punctuation">:</span> <span class="token punctuation">[</span>
          <span class="token operator">...</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><div class="warning custom-block"><p class="custom-block-title">注</p> <p><code>TabA.vue</code>中的<code>&lt;QueryList&gt;</code>组件是全局的，属性<code>queryList</code>是框架从<code>listPage.vue</code>传递过来的，这个页面上只需要自己提供一个表格的columns数组即可</p></div></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/framework/MenuRouter.html" class="prev">
          菜单路由
        </a></span> <span class="next"><a href="/framework/FormPage.html">
          表单提交页面 FormPage
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/21.cd234c79.js" defer></script><script src="/assets/js/app.c3744aec.js" defer></script>
  </body>
</html>
